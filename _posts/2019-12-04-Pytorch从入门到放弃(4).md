---
layout:     post
title:      深度学习Pytorch从入门到放弃(4)--数据处理
subtitle:   
date:       2019-12-04
author:     高庆东
header-img: img/ceshi.jpg
catalog: true
tags:
    - Pytorch
    - 数据处理
    - Dataset
    - python
    - 源码解析
    - c++底层
    - torch深度学习
    - utils模块

---

## 数据模块
在torch文件夹中有个utils文件夹，该文件夹下有个data文件夹，这就是这次的主角，数据读取牛逼方法，其中贯穿了很多python的思路    
着重介绍`dataset.py`和`dataloader.py`文件。
### dataset.py
首先该文件中有个基础类`Dataset()`。定义了一些必要的的python方法，这些方法保证了数据作为对象传入模型中可以方便快捷的实现。其中最重要的  
两个方法。`__getitem__()`和`__len__()` 这两个方法是必要的需要我们自己定义的。其他的类都得继承这个基础类。 在`dataset.py`  
文件中代码没啥好说的最重要的主要是`Dataset()`这个类，然后在使用的时候首先需要继承这个类，其实继不继承这个类都差不多主要是  
要有上述说到的那两个方法就行，这个函数的主要作用是将数据集转化为对象。 具体操作呢
```
import torch 
import torch.utils.data as data
a=torch.rand(10,4)
b=torch.randint(0,2,(10,1))
class dataset(data.Dataset):
    def __init__(self,a,b):
        self.a=a
        self.b=b
    def __getitem__(self,ind):
        return self.a[ind],self.b[ind]
    def __len__(self):
        len(self.a)
test=dataset(a,b)
#将数据转化为对象
```
### dataloader.py
这个文件就是将数据对象转化为方便批量计算的数据。这个文件中有个`Dataloader()`类，该类也很简单，主要有几个功能，  
1批量读取数据，2打乱数据，3多线程读取，4对批量数据进行操作。先说说批量读取数据


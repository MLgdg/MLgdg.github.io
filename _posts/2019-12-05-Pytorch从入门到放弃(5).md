---
layout:     post
title:      深度学习Pytorch从入门到放弃(5)--数据结构和类型计算方式
subtitle:   
date:       2019-12-05
author:     高庆东
header-img: img/ceshi.jpg
catalog: true
tags:
    - Pytorch
    - 数据结构
    - 数据类型
    - 计算图
    - 参数及导数
    - 计算方法
    

---

## 数据结构和类型
在pytorch中数据类型和numpy类似，包括矩阵，数组。操作都差不多。但是唯一不同的是，数据是否具有导数性质。pytorch除了数据的data性质外  
还有导数性质。这就是pytorch的计算图。其实pytorch对于图的概念很模糊。不像tensorflow，完全依赖图，pytorch其实相当于梯度版的numpy  
在numpy上的一起操作几乎都可以在pytorc上又对应的操作，两者具有非常好的兼容性。
pytorch中主要的数据类型就是`tensor`类型，同时类型与类型之间依然贯彻对象的概念，比如`torch.tensor()`和torch.Tensor()两者相差不多  
只不过有个默认类型的区别，在torch中大写的首字母通常代表了一个类。小写的通常代表一种方法。 

再说说计算图的概念，图是由节点构成的，可求导数的数据构成节点，不可求导的数据不能作为节点，这事很重要的东西。当我们需要将节点分离出来  
时，可以将节点数据可求导性设置成False。这样就可以将节点从计算图上分离出来。
主要有几种设置节点的方式。
```
#设置节点

import torch.nn as nn
import torch
impoor torch.autograd
a = nn.Parameter(torch.zeros(size=(2, 1)))  #Parameter是一个类，它继承了Tensor类，同时默认设置可求导性为True

a = torch.Tensor(torch.rand(3,2)) #这个是个数据类型，同时里面可以是numpy数据，默认里面需要浮点型数据。而且默认不可求导。 
a = torch.atuograd.Variable(torch.rand(2,3)) #这也是个数据类型，可以得到tensor数据，默认数据不能作为节点，同时里面 可以是
                                             #任何数据，需要作为节点时，需要将`reuqires_grad`参数设为True
                                             
a = torch.tensor(torch.rand(2,3),requires_grad=False,dtype=torch.float) #通用方式
```
其实这个四种方法都差不多我们都可以使用`torch.tensor`的方式设置节点或者非节点。

说完了节点和数据类型，来说说如何创建数据和常用的创建数据的方式   
创建数据需要根据我们的要求获得特定的数据，比如分布要求，类型要求，尺寸要求等。这块几乎和numpy一样。这里面最重要的也是应用  
比较广泛的知识点是数据广播。简单来说就是尺寸不同的数据在某些情况下可以进行计算。 

## 计算方法


